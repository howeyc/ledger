<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>File Format - Guide to Ledger</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Plain Text Accounting">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="Introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Setup</li><li class="chapter-item expanded "><a href="01_01_Installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="01_02_FileFormat.html" class="active"><strong aria-hidden="true">2.</strong> File Format</a></li><li class="chapter-item expanded "><a href="01_03_RunningLedger.html"><strong aria-hidden="true">3.</strong> First Run</a></li><li class="chapter-item expanded affix "><li class="part-title">CLI Commands</li><li class="chapter-item expanded "><a href="02_Accounts.html"><strong aria-hidden="true">4.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="02_Balance.html"><strong aria-hidden="true">5.</strong> Balance</a></li><li class="chapter-item expanded "><a href="02_Equity.html"><strong aria-hidden="true">6.</strong> Equity</a></li><li class="chapter-item expanded "><a href="02_Import.html"><strong aria-hidden="true">7.</strong> Import</a></li><li class="chapter-item expanded "><a href="02_Export.html"><strong aria-hidden="true">8.</strong> Export</a></li><li class="chapter-item expanded "><a href="02_Print.html"><strong aria-hidden="true">9.</strong> Print</a></li><li class="chapter-item expanded "><a href="02_Register.html"><strong aria-hidden="true">10.</strong> Register</a></li><li class="chapter-item expanded "><a href="02_Stats.html"><strong aria-hidden="true">11.</strong> Stats</a></li><li class="chapter-item expanded affix "><li class="part-title">Web Interface</li><li class="chapter-item expanded "><a href="Web_Overview.html"><strong aria-hidden="true">12.</strong> Overview</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Web_Quickview.html"><strong aria-hidden="true">12.1.</strong> Quickview</a></li><li class="chapter-item expanded "><a href="Web_GeneralLedger.html"><strong aria-hidden="true">12.2.</strong> General Ledger</a></li><li class="chapter-item expanded "><a href="Web_Accounts.html"><strong aria-hidden="true">12.3.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="Web_AddTransaction.html"><strong aria-hidden="true">12.4.</strong> Add Transaction</a></li></ol></li><li class="chapter-item expanded "><a href="Web_Reports.html"><strong aria-hidden="true">13.</strong> Reports</a></li><li class="chapter-item expanded "><a href="Web_Portfolio.html"><strong aria-hidden="true">14.</strong> Stock Portfolio</a></li><li class="chapter-item expanded affix "><li class="part-title">Other</li><li class="chapter-item expanded "><a href="Performance.html"><strong aria-hidden="true">15.</strong> Performance</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="Example.html">Example File</a></li><li class="chapter-item expanded affix "><a href="Editing_VimPlugin.html">Editing in Vim</a></li><li class="chapter-item expanded affix "><a href="LICENSE.html">License</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Guide to Ledger</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ledger-file-format"><a class="header" href="#ledger-file-format">Ledger File Format</a></h1>
<p>Maintaining your Transaction Record in <code>ledger</code> format.</p>
<p>Tracking your transactions for analysis with <code>ledger</code> is as easy as writing some
text to a file in a very human-readable format.
The format is <em>structured</em> but appears <em>unstructured</em> to many because it doesn't
use curly brackets, key-value pairs, or other special characters to model
transaction data.
Instead, the things that matter are just having enough whitespace between
certain elements in order for the <code>ledger</code> parser to understand the difference
between dates, amounts, and so on.</p>
<p>Start your favorite text editor and you'll get started on the path to personal
finance greatness.</p>
<h2 id="terminology"><a class="header" href="#terminology">Terminology</a></h2>
<ul>
<li>Transaction - Series of consecutive lines that represent the move of money
from one account to one (<em>or more</em>) other accounts.</li>
<li>Transaction Date - Date the transaction occurred.</li>
<li>Payee - Description following on the same line as the Date. Usually the place
of business or person the transaction occurred at/with.</li>
<li>Posting - Line containing account and (<em>optionally</em>) amount.</li>
</ul>
<h2 id="basic-transaction-format"><a class="header" href="#basic-transaction-format">Basic transaction format</a></h2>
<p>The basic format of a <code>ledger</code> transaction, shown below.</p>
<pre><code class="language-ledger">2017-06-26 Commonplace Coffee
  Assets:Cash:Wallet           -3.00
  Expenses:Restaurants:Coffee   3.00

</code></pre>
<p>In the example, line 1 shows the <em>transaction date</em> and <em>payee</em>.
Lines 2 and 3 are two <em>postings</em> comprised of an <em>account</em> and an <em>amount</em>.</p>
<p>All transactions must balance. That is, the amount credited must
equal the amount debited: credits minus debits must equal zero.
In other words, the sum of all <em>postings</em> must equal zero.</p>
<p>A transaction must have at least two <em>postings</em>. There is not limit on the
number of <em>postings</em> per transaction.</p>
<p>Note the <em>accounts</em> used in this example.
One begins with <code>Expenses</code> and the other begins with <code>Assets</code>.
Expenses are <em>credited</em> because the money flows to them.
Assets are credited when you add funds and debited when you move money to
something else.
In this transaction, you're deducting money from an account representing your
wallet and adding it to an expense representing your coffee spending.</p>
<p><code>ledger</code> has some great conveniences that ease entry.
One such convenience is that <code>ledger</code> allows transactions to omit the <em>amount</em>
on a single <em>posting</em>.
The missing amount is calculated and is equal to whatever amount is necessary
to balance the transaction.</p>
<pre><code class="language-ledger">2017-06-26 Commonplace Coffee
  Assets:Cash:Wallet
  Expenses:Restaurants:Coffee   3.00

</code></pre>
<p>You can also supply comments for a transaction or posting.
Postings can only have one comment line but transactions can have as many as
you want.</p>
<pre><code class="language-ledger">; cold brew
; morning
2017-06-26 Commonplace Coffee
  Expenses:Restaurants:Coffee   3.00   ; Grande
  Assets:Cash:Wallet           -3.00

</code></pre>
<h2 id="ledger-file"><a class="header" href="#ledger-file">Ledger file</a></h2>
<p>A ledger file is a series of transactions separated by blank lines in between
them. Here's an example.</p>
<pre><code class="language-ledger">2013/01/02 McDonald's #24233 HOUSTON TX
    Expenses:Dining Out:Fast Food        5.60
    Assets:Cash:Wallet

2013/01/02 Burger King
    Expenses:Dining Out:Fast Food        15.60
    Assets:Cash:Wallet

2013/01/02 Purchase 100 IVV
    Assets:Bank:Checking       -15000
    Assets:Investments:IVV
    Expenses:Investments:Commissions    4.99

</code></pre>
<p>You may be wondering how we track stocks, currencies, commodities, etc.
All of those are reporting considerations, transactions are all that's contained
in a ledger file. Simplicity of the file format is a guiding principle of ledger.</p>
<p>Reporting functions available in ledger are very powerful, and will be introduced
in later chapters.</p>
<h2 id="differences-from-other-ledger"><a class="header" href="#differences-from-other-ledger">Differences from Other Ledger</a></h2>
<p>The file format supported by this version of ledger is heavily inspired by the
format defined by the other <a href="https://www.ledger-cli.org/">ledger</a>. However,
this version supports only the most basic of features in the ledger file itself.</p>
<h3 id="no-currencies-or-commodities"><a class="header" href="#no-currencies-or-commodities">No Currencies or Commodities</a></h3>
<p>There is no support for prepending a currency token (such as $) to a number. Nor
is there support for appending a token or string to signify a commodity (such
as &quot;APPL&quot;, &quot;BTC&quot;, or &quot;USD&quot;).</p>
<p>All amounts must be numbers. Ledger balances and moves amounts (numbers)
between accounts in transactions. The significance of what a number means or
represents is entirely up to the user.</p>
<p><strong>Note:</strong> Even though there is no support for commodities in the ledger file
format, support for commodities exists in the web reporting features.</p>
<h3 id="minimal-command-directive-support"><a class="header" href="#minimal-command-directive-support">Minimal Command Directive Support</a></h3>
<p>The other ledger supports many <a href="https://www.ledger-cli.org/3.0/doc/ledger3.html#Command-Directives">Command Directives</a>.</p>
<p>The only supported directives are:</p>
<ul>
<li>include - to import/include transactions of another ledger file.</li>
<li>account - parsed but ignored.</li>
</ul>
<p>All other directives will cause errors in this application as they will be
assumed to be a line starting a transaction.</p>
<h3 id="transactions-are-basic"><a class="header" href="#transactions-are-basic">Transactions are basic</a></h3>
<ul>
<li>No metadata support</li>
<li>No &quot;state&quot; (pending, cleared, ...)</li>
<li>No virtual postings</li>
<li>No balance assertions</li>
</ul>
<p>Postings are account and an optional amount.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="01_01_Installation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="01_03_RunningLedger.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="01_01_Installation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="01_03_RunningLedger.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>

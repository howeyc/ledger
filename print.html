<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Guide to Ledger</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Plain Text Accounting">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="Introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Setup</li><li class="chapter-item expanded "><a href="01_01_Installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="01_02_FileFormat.html"><strong aria-hidden="true">2.</strong> File Format</a></li><li class="chapter-item expanded "><a href="01_03_RunningLedger.html"><strong aria-hidden="true">3.</strong> First Run</a></li><li class="chapter-item expanded affix "><li class="part-title">CLI Commands</li><li class="chapter-item expanded "><a href="02_Accounts.html"><strong aria-hidden="true">4.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="02_Balance.html"><strong aria-hidden="true">5.</strong> Balance</a></li><li class="chapter-item expanded "><a href="02_Equity.html"><strong aria-hidden="true">6.</strong> Equity</a></li><li class="chapter-item expanded "><a href="02_Import.html"><strong aria-hidden="true">7.</strong> Import</a></li><li class="chapter-item expanded "><a href="02_Print.html"><strong aria-hidden="true">8.</strong> Print</a></li><li class="chapter-item expanded "><a href="02_Register.html"><strong aria-hidden="true">9.</strong> Register</a></li><li class="chapter-item expanded "><a href="02_Stats.html"><strong aria-hidden="true">10.</strong> Stats</a></li><li class="chapter-item expanded affix "><li class="part-title">Web Interface</li><li class="chapter-item expanded "><a href="Web_Overview.html"><strong aria-hidden="true">11.</strong> Overview</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Web_Quickview.html"><strong aria-hidden="true">11.1.</strong> Quickview</a></li><li class="chapter-item expanded "><a href="Web_GeneralLedger.html"><strong aria-hidden="true">11.2.</strong> General Ledger</a></li><li class="chapter-item expanded "><a href="Web_Accounts.html"><strong aria-hidden="true">11.3.</strong> Accounts</a></li></ol></li><li class="chapter-item expanded "><a href="Web_Reports.html"><strong aria-hidden="true">12.</strong> Reports</a></li><li class="chapter-item expanded "><a href="Web_Portfolio.html"><strong aria-hidden="true">13.</strong> Stock Portfolio</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="Example.html">Example File</a></li><li class="chapter-item expanded affix "><a href="Editing_VimPlugin.html">Editing in Vim</a></li><li class="chapter-item expanded affix "><a href="LICENSE.html">License</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Guide to Ledger</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Plain Text Accounting is the practice of maintaining an accounting ledger in a
format that values human readability, accountant auditability, and future file
accessability. The ecosystem of PTA tools includes programs
which enable recording of purchases and transfers and investments,
and performing analysis to produce registers, balance sheets, profit and loss
statements, and lots of other reports.</p>
<p>The core tools of the Plain Text Accounting ecosystem is a workflow familiar
to software developers who prefer command line tools, and text based file
formats.</p>
<p>This is a guide to plain text accounting in Ledger.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>There are multiple ways to install the Ledger CLI tool.
Choose any one of the methods below that best suit your needs.</p>
<h2 id="pre-compiled-binaries"><a class="header" href="#pre-compiled-binaries">Pre-compiled binaries</a></h2>
<p>Executable binaries are available for download on the
<a href="https://github.com/howeyc/ledger/releases">GitHub Releases page</a>.
Download the binary for your platform (Windows, macOS, or Linux) and extract
the archive.
The archive contains the <code>ledger</code> executable.</p>
<p>To make it easier to run, put the path to the binary into your <code>PATH</code>.</p>
<h2 id="build-from-source-using-go"><a class="header" href="#build-from-source-using-go">Build from source using Go</a></h2>
<p>To build the <code>ledger</code> executable from source, you will first need to install Go
Follow the instructions on the <a href="https://go.dev/doc/install">Go installation page</a>.
ledger currently requires at least Go version 1.17.</p>
<p>Once you have installed Go, the following command can be used to build and
install ledger:</p>
<pre><code class="language-sh">go install github.com/howeyc/ledger/ledger@latest
</code></pre>
<p>This will automatically download ledger, build it, and install it in Go's global
binary directory (<code>~/go/bin/</code> by default).</p>
<h2 id="archlinux-aur"><a class="header" href="#archlinux-aur">Archlinux AUR</a></h2>
<p>If you happen to be using Archlinux, you can use the port in AUR.</p>
<pre><code class="language-sh">yay -S ledger-go
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ledger-file-format"><a class="header" href="#ledger-file-format">Ledger File Format</a></h1>
<p>Maintaining your Transaction Record in <code>ledger</code> format.</p>
<p>Tracking your transactions for analysis with <code>ledger</code> is as easy as writing some
text to a file in a very human-readable format.
The format is <em>structured</em> but appears <em>unstructured</em> to many because it doesn't
use curly brackets, key-value pairs, or other special characters to model
transaction data.
Instead, the things that matter are just having enough whitespace between
certain elements in order for the <code>ledger</code> parser to understand the difference
between dates, amounts, and so on.</p>
<p>Start your favorite text editor and you'll get started on the path to personal
finance greatness.</p>
<h2 id="terminology"><a class="header" href="#terminology">Terminology</a></h2>
<ul>
<li>Transaction - Series of consecutive lines that represent the move of money
from one account to one (<em>or more</em>) other accounts.</li>
<li>Transaction Date - Date the transaction occured.</li>
<li>Payee - Description following on the same line as the Date. Usually the place
of business or person the transaction occured at/with.</li>
<li>Posting - Line containing account and (<em>optionally</em>) amount.</li>
</ul>
<h2 id="basic-transaction-format"><a class="header" href="#basic-transaction-format">Basic transaction format</a></h2>
<p>The basic format of a <code>ledger</code> transaction, shown below.</p>
<pre><code class="language-ledger">2017-06-26 Commonplace Coffee
  Assets:Cash:Wallet           -3.00
  Expenses:Restaurants:Coffee   3.00

</code></pre>
<p>In the example, line 1 shows the <em>transaction date</em> and <em>payee</em>.
Lines 2 and 3 are two <em>postings</em> comprised of an <em>account</em> and an <em>amount</em>.</p>
<p>All transactions must balance. That is, the amount credited must
equal the amount debited: credits minus debits must equal zero.
In other words, the sum of all <em>postings</em> must equal zero.</p>
<p>A transaction must have at least two <em>postings</em>. There is not limit on the
number of <em>postings</em> per transaction.</p>
<p>Note the <em>accounts</em> used in this example.
One begins with <code>Expenses</code> and the other begins with <code>Assets</code>.
Expenses are <em>credited</em> because the money flows <em>toward</em> them.
Assets are credited when you add funds and debited when you move money to
something else.
In this transaction, you're deducting money from an account representing your
wallet and adding it to an expense representing your coffee spending.</p>
<p><code>ledger</code> has some great conveniences that ease entry.
One such convenience is that <code>ledger</code> allows transactions to omit the <em>amount</em>
on a single <em>posting</em>.
The missing amount is calculated and is equal to whatever amount is necessary
to balance the transaction.</p>
<pre><code class="language-ledger">2017-06-26 Commonplace Coffee
  Assets:Cash:Wallet
  Expenses:Restaurants:Coffee   3.00

</code></pre>
<p>You can also supply comments for a transaction or posting.
Postings can only have one comment line but transactions can have as many as
you want.</p>
<pre><code class="language-ledger">; cold brew
; morning
2017-06-26 Commonplace Coffee
  Expenses:Restaurants:Coffee   3.00   ; Grande
  Assets:Cash:Wallet           -3.00

</code></pre>
<h2 id="ledger-file"><a class="header" href="#ledger-file">Ledger file</a></h2>
<p>A ledger file is a series of transactions separated by blank lines in between
them. Here's an example.</p>
<pre><code class="language-ledger">2013/01/02 McDonald's #24233 HOUSTON TX
    Expenses:Dining Out:Fast Food        5.60
    Assets:Cash:Wallet

2013/01/02 Burger King
    Expenses:Dining Out:Fast Food        15.60
    Assets:Cash:Wallet

2013/01/02 Purchase 100 IVV
    Assets:Bank:Checking       -15000
    Assets:Investments:IVV
    Expenses:Investments:Commissions    4.99

</code></pre>
<p>You may be wondering how we track stocks, currencies, commodities, etc.
All of those are reporting considerations, transactions are all that's contained
in a ledger file. Simplicity of file formats for possible use with other tools
is a guiding principle of ledger.</p>
<p>Reporting functions available in ledger are very powerful, and will be introduced
in later chapters.</p>
<h2 id="differences-from-other-ledger"><a class="header" href="#differences-from-other-ledger">Differences from Other Ledger</a></h2>
<p>The file format supported by this version of ledger is heavily inspired by the
format defined by the other <a href="https://www.ledger-cli.org/">ledger</a>. However,
this version supports only the most basic of features in the ledger file itself.</p>
<h3 id="no-currencies-or-commodities"><a class="header" href="#no-currencies-or-commodities">No Currencies or Commodities</a></h3>
<p>There is no support for prepending a currency token (such as $) to a number. Nor
is there support for appending a token or string to signify a commodity (such
as &quot;APPL&quot;, &quot;BTC&quot;, or &quot;USD&quot;).</p>
<p>All amounts must be numbers. Ledger balances and moves amounts (numbers)
between accounts in transactions. The significance of what a number means or
represents is entirely up to the user.</p>
<p><strong>Note:</strong> Even though there is no support for commodities in the ledger file
format, support for commidities exists in the web reporting features.</p>
<h3 id="minimal-command-directive-support"><a class="header" href="#minimal-command-directive-support">Minimal Command Directive Support</a></h3>
<p>The other ledger supports many <a href="https://www.ledger-cli.org/3.0/doc/ledger3.html#Command-Directives">Command Directives</a>.</p>
<p>The only supported directives are:</p>
<ul>
<li>include - to import/include transactions of another ledger file.</li>
<li>account - parsed but ignored.</li>
</ul>
<p>All other directives will cause errors in this application as they will be
assumed to be a line starting a transaction.</p>
<h3 id="transactions-are-basic"><a class="header" href="#transactions-are-basic">Transactions are basic</a></h3>
<ul>
<li>No metadata support</li>
<li>No &quot;state&quot; (pending, cleared, ...)</li>
<li>No virtual postings</li>
<li>No balance assertions</li>
</ul>
<p>Postings are account and an optional amount.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="running-ledger"><a class="header" href="#running-ledger">Running ledger</a></h1>
<p>Starting ledger provides us with a list of all the commands that are available.</p>
<pre><code class="language-sh">ledger
</code></pre>
<p>This produces the following output.</p>
<pre><code>Plain text accounting

Usage:
  ledger [command]

Available Commands:
  balance     Print account balances
  completion  generate the autocompletion script for the specified shell
  equity      Print account equity as transaction
  help        Help about any command
  import      Import transactions from csv to ledger format
  lint        Check ledger for errors
  print       Print transactions in ledger file format
  register    Print register of transactions
  stats       A small report of transaction stats
  version     Version of ledger
  web         Web service

Flags:
  -f, --file string   ledger file (default is $LEDGER_FILE) (default &quot;&quot;)
  -h, --help          help for ledger

Use &quot;ledger [command] --help&quot; for more information about a command.
</code></pre>
<p>In order to run any command we must specify the ledger file. This is done with
either the <strong>-f</strong> or <strong>--file</strong> flag. However, since this needs to be included
so often, it can also be specified via the environment variable
<strong>LEDGER_FILE</strong>.</p>
<p>It is encouraged to setup this <strong>LEDGER_FILE</strong> to require less typing every time
a command is run.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="accounts"><a class="header" href="#accounts">Accounts</a></h1>
<p>Run <code>ledger -f ledger.dat accounts</code> to see an account list.</p>
<pre><code class="language-sh">Assets
Assets:Bank
Assets:Bank:Checking
Assets:Cash
Assets:Cash:Wallet
Assets:Crypto
Assets:Crypto:BTC
Assets:Crypto:ETH
Equity
Equity:Opening Balances
Expenses
Expenses:Books
Expenses:Food
Expenses:Food:Groceries
Expenses:Food:TakeOut
Income
Income:Salary
Liabilities
Liabilities:MasterCard
</code></pre>
<h2 id="only-leaf-max-depth-accounts"><a class="header" href="#only-leaf-max-depth-accounts">Only Leaf (Max Depth) Accounts</a></h2>
<p>If we are only intersted in the highest depth accounts and not interested
in seeing all the parent account levels we can get that, just
run <code>ledger -f ledger.dat accounts -l</code></p>
<pre><code class="language-sh">Assets:Bank:Checking
Assets:Cash:Wallet
Assets:Crypto:BTC
Assets:Crypto:ETH
Equity:Opening Balances
Expenses:Books
Expenses:Food:Groceries
Expenses:Food:TakeOut
Income:Salary
Liabilities:MasterCard
</code></pre>
<h2 id="matching-depth-accounts"><a class="header" href="#matching-depth-accounts">Matching Depth Accounts</a></h2>
<p>This is mostly useful for autocomplete functions. You can use this to get
accounts matching a filter, and at the same depth as the filter.</p>
<p>For instance, let's get all Assets accounts by running
<code>ledger -f ledger.dat accounts -m Assets:</code></p>
<pre><code class="language-sh">Assets:Bank
Assets:Cash
Assets:Crypto
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="balance"><a class="header" href="#balance">Balance</a></h1>
<p>Run <code>ledger -f ledger.dat bal</code> to see a balance report.</p>
<pre><code class="language-sh">Assets                                                                   4333.00
Assets:Bank                                                              3733.00
Assets:Bank:Checking                                                     3733.00
Assets:Cash                                                               100.00
Assets:Cash:Wallet                                                        100.00
Assets:Crypto                                                             500.00
Assets:Crypto:BTC                                                         300.00
Assets:Crypto:ETH                                                         200.00
Equity                                                                  -1000.00
Equity:Opening Balances                                                 -1000.00
Expenses                                                                  727.92
Expenses:Books                                                             20.00
Expenses:Food                                                             707.92
Expenses:Food:Groceries                                                   667.00
Expenses:Food:TakeOut                                                      40.92
Income                                                                  -4000.00
Income:Salary                                                           -4000.00
Liabilities                                                               -60.92
Liabilities:MasterCard                                                    -60.92
--------------------------------------------------------------------------------
                                                                            0.00
</code></pre>
<h2 id="net-worth"><a class="header" href="#net-worth">Net Worth</a></h2>
<p>You can show specific accounts by applying a filter, which is case senstive.
For example, let's get our net worth,
run <code>ledger -f ledger.dat bal Assets Liabilities</code></p>
<pre><code class="language-sh">Assets                                                                   4333.00
Assets:Bank                                                              3733.00
Assets:Bank:Checking                                                     3733.00
Assets:Cash                                                               100.00
Assets:Cash:Wallet                                                        100.00
Assets:Crypto                                                             500.00
Assets:Crypto:BTC                                                         300.00
Assets:Crypto:ETH                                                         200.00
Liabilities                                                               -60.92
Liabilities:MasterCard                                                    -60.92
--------------------------------------------------------------------------------
                                                                         4272.08
</code></pre>
<h2 id="by-period"><a class="header" href="#by-period">By Period</a></h2>
<p>We can see our balances segmented by a time period. For example, let's see all
our expenses for each month,
run <code>ledger -f ledger.dat --period Monthly bal Expenses</code></p>
<pre><code class="language-sh">2021/12/01 - 2021/12/31
================================================================================
Expenses                                                                  222.00
Expenses:Food                                                             222.00
Expenses:Food:Groceries                                                   222.00
--------------------------------------------------------------------------------
                                                                          222.00

================================================================================
2022/01/01 - 2022/01/31
================================================================================
Expenses                                                                  505.92
Expenses:Books                                                             20.00
Expenses:Food                                                             485.92
Expenses:Food:Groceries                                                   445.00
Expenses:Food:TakeOut                                                      40.92
--------------------------------------------------------------------------------
                                                                          505.92
</code></pre>
<h2 id="account-depth"><a class="header" href="#account-depth">Account Depth</a></h2>
<p>That's a lot of accounts, let's trim it down to see it summed up to the second
level. Run <code>ledger -f ledger.dat --period Monthly --depth 2 bal Expenses</code></p>
<pre><code class="language-sh">2021/12/01 - 2021/12/31
================================================================================
Expenses                                                                  222.00
Expenses:Food                                                             222.00
--------------------------------------------------------------------------------
                                                                          222.00

================================================================================
2022/01/01 - 2022/01/31
================================================================================
Expenses                                                                  505.92
Expenses:Books                                                             20.00
Expenses:Food                                                             485.92
--------------------------------------------------------------------------------
                                                                          505.92
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="equity"><a class="header" href="#equity">Equity</a></h1>
<p>Some users like to keep ledger files for each year. To aid in creating a new
starting balance for the next file, we can use the <code>ledger equity</code> command to
generate the required transaction to have the correct starting balances.</p>
<p>Let's start 2021, using all transactions upto the end of 2020. As the end date
on the command line is not included, we can use 2021/01/01 as the end date.</p>
<p>Run <code>ledger -f ledger.dat equity -e &quot;2021/01/01&quot;</code></p>
<pre><code class="language-sh">2021/12/01 Opening Balances
    Assets:Bank:Checking                                                 1000.00
    Equity:Opening Balances                                             -1000.00

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="import"><a class="header" href="#import">Import</a></h1>
<p>We can import transactions in CSV format, and product ledger transactions.
Transactions are classified using best-likely match based on payee descriptions.
Matches do not need to be exact matches, it's based on probablility determined
by learning from existing transactions. The more existing transactions in your
ledger file, the better the matches will be.</p>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<p>Example transactions from your credit card csv download.</p>
<pre><code class="language-sh">Transaction Date,Description,Amount
01/12/22,Dominoes Pizza     HOUSTON TX,12.34
01/23/22,Dominoes Pizza     PEARLAND TX,14.34
01/02/22,Half Price Books   AUSTIN TX,5.24
</code></pre>
<p>Let's run our import, making sure to specify the correct date-format to match
the CSV file.</p>
<p>Run <code>ledger -f ledger.dat --date-format &quot;01/02/06&quot; import MasterCard transactions.csv</code></p>
<pre><code class="language-sh">2022/01/12 Dominoes Pizza     HOUSTON TX
    Expenses:Food:TakeOut                                                  12.34
    Liabilities:MasterCard                                                -12.34

2022/01/23 Dominoes Pizza     PEARLAND TX
    Expenses:Food:TakeOut                                                  14.34
    Liabilities:MasterCard                                                -14.34

2022/01/02 Half Price Books   AUSTIN TX
    Expenses:Books                                                          5.24
    Liabilities:MasterCard                                                 -5.24

</code></pre>
<p>These are not written to our ledger file, just displayed. Once we are satisfied
with the transactions we can write them to our ledger file by
running <code>ledger -f ledger.dat --date-format &quot;01/02/06&quot; import MasterCard transactions.csv &gt;&gt; ledger.dat</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="print"><a class="header" href="#print">Print</a></h1>
<p>You can print your ledger file in a consistent format. Useful if you want all
transactions to be in a consistent format and your file to always be ordered by
date.</p>
<p>Run <code>ledger -f ledger.dat print</code></p>
<pre><code class="language-sh">2021/12/01 Checking balance
    Assets:Bank:Checking                                                 1000.00
    Equity:Opening Balances                                             -1000.00

2021/12/05 Withdrawl
    Assets:Bank:Checking                                                 -100.00
    Assets:Cash:Wallet                                                    100.00

2021/12/22 Grocery Store
    Assets:Bank:Checking                                                 -222.00
    Expenses:Food:Groceries                                               222.00

2021/12/25 Buy some Crypto
    Assets:Bank:Checking                                                 -500.00
    Assets:Crypto:BTC                                                     300.00
    Assets:Crypto:ETH                                                     200.00

2021/12/31 Employer
    Assets:Bank:Checking                                                 2000.00
    Income:Salary                                                       -2000.00

2022/01/02 Dominoes Pizza   HOUSTON TX
    Expenses:Food:TakeOut                                                  23.58
    Liabilities:MasterCard                                                -23.58

2022/01/02 Grocery Store
    Assets:Bank:Checking                                                 -145.00
    Expenses:Food:Groceries                                               145.00

2022/01/02 Grocery Store
    Assets:Bank:Checking                                                 -180.00
    Expenses:Food:Groceries                                               180.00

2022/01/08 Half Price Books    HOUSTON TX
    Expenses:Books                                                         20.00
    Liabilities:MasterCard                                                -20.00

2022/01/09 Grocery Store
    Assets:Bank:Checking                                                 -120.00
    Expenses:Food:Groceries                                               120.00

2022/01/11 Panda Express
    Expenses:Food:TakeOut                                                  17.34
    Liabilities:MasterCard                                                -17.34

2022/01/15 Employer
    Assets:Bank:Checking                                                 2000.00
    Income:Salary                                                       -2000.00

</code></pre>
<p>You can also use this if your splitting off transactions into separate files by
date range, or account.</p>
<p>All 2020 transactions for example <code>ledger -f ledger.dat -b &quot;2020/01/01&quot; -e &quot;2021/01/01&quot; print</code></p>
<pre><code class="language-sh">2021/12/01 Checking balance
    Assets:Bank:Checking                                                 1000.00
    Equity:Opening Balances                                             -1000.00

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="register"><a class="header" href="#register">Register</a></h1>
<p>Run <code>ledger -f ledger.dat reg</code> to see all transactions in register format.
Since we aren't specifying a specific account, we will get all postings for
all transactions and the running total will sum to zero, as all transactions
balance.</p>
<pre><code class="language-sh">2021/12/01 Checking balanc Assets:Bank:Checking               1000.00    1000.00
2021/12/01 Checking balanc Equity:Opening Balances           -1000.00       0.00
2021/12/05 Withdrawl       Assets:Bank:Checking               -100.00    -100.00
2021/12/05 Withdrawl       Assets:Cash:Wallet                  100.00       0.00
2021/12/22 Grocery Store   Assets:Bank:Checking               -222.00    -222.00
2021/12/22 Grocery Store   Expenses:Food:Groceries             222.00       0.00
2021/12/25 Buy some Crypto Assets:Bank:Checking               -500.00    -500.00
2021/12/25 Buy some Crypto Assets:Crypto:BTC                   300.00    -200.00
2021/12/25 Buy some Crypto Assets:Crypto:ETH                   200.00       0.00
2021/12/31 Employer        Assets:Bank:Checking               2000.00    2000.00
2021/12/31 Employer        Income:Salary                     -2000.00       0.00
2022/01/02 Dominoes Pizza  Liabilities:MasterCard              -23.58     -23.58
2022/01/02 Dominoes Pizza  Expenses:Food:TakeOut                23.58       0.00
2022/01/02 Grocery Store   Assets:Bank:Checking               -145.00    -145.00
2022/01/02 Grocery Store   Expenses:Food:Groceries             145.00       0.00
2022/01/02 Grocery Store   Assets:Bank:Checking               -180.00    -180.00
2022/01/02 Grocery Store   Expenses:Food:Groceries             180.00       0.00
2022/01/08 Half Price Book Liabilities:MasterCard              -20.00     -20.00
2022/01/08 Half Price Book Expenses:Books                       20.00       0.00
2022/01/09 Grocery Store   Assets:Bank:Checking               -120.00    -120.00
2022/01/09 Grocery Store   Expenses:Food:Groceries             120.00       0.00
2022/01/11 Panda Express   Liabilities:MasterCard              -17.34     -17.34
2022/01/11 Panda Express   Expenses:Food:TakeOut                17.34       0.00
2022/01/15 Employer        Assets:Bank:Checking               2000.00    2000.00
2022/01/15 Employer        Income:Salary                     -2000.00       0.00
</code></pre>
<h2 id="payee"><a class="header" href="#payee">Payee</a></h2>
<p>Let's see how much money we've spend at the &quot;Grocery Store&quot; each month. Also,
to keep from seeing every posting, we are going to specify that we only want to
see postings in the &quot;Expenses&quot; accounts. This will allow us to easily see a
running total in the last column.</p>
<p>Run <code>ledger -f ledger.dat reg --payee &quot;Grocery Store&quot; --period Monthly Expenses</code></p>
<pre><code class="language-sh">2021/12/01 - 2021/12/31
================================================================================
2021/12/22 Grocery Store   Expenses:Food:Groceries             222.00     222.00
================================================================================
2022/01/01 - 2022/01/31
================================================================================
2022/01/02 Grocery Store   Expenses:Food:Groceries             145.00     145.00
2022/01/02 Grocery Store   Expenses:Food:Groceries             180.00     325.00
2022/01/09 Grocery Store   Expenses:Food:Groceries             120.00     445.00
</code></pre>
<h2 id="accounts-1"><a class="header" href="#accounts-1">Accounts</a></h2>
<p>Let's track down all the times we used our Credit Card.</p>
<p>Run <code>ledger -f ledger.dat reg MasterCard</code></p>
<pre><code class="language-sh">2022/01/02 Dominoes Pizza  Liabilities:MasterCard              -23.58     -23.58
2022/01/08 Half Price Book Liabilities:MasterCard              -20.00     -43.58
2022/01/11 Panda Express   Liabilities:MasterCard              -17.34     -60.92
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stats"><a class="header" href="#stats">Stats</a></h1>
<p>A nice little summary of various ledger stats is avaible.</p>
<p>Run <code>ledger -f ledger.dat stats</code></p>
<pre><code class="language-sh">Time period               : 2021-12-01 to 2022-01-15 (6 weeks 3 days)
Unique payees             : 8
Unique accounts           : 10
Number of transactions    : 12 (0.3 per day)
Number of postings        : 25 (0.6 per day)
Time since last post      : 12 weeks
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>The web service included in <code>ledger</code> allows for the easy and quick viewing
of financial data in a graphical format.</p>
<p>The default pages show the accounts, and a &quot;General Ledger&quot; listing all the
transactions.</p>
<p>Start up the web interface with <code>ledger -f ledger.dat web</code></p>
<p>Open a browser to the default address of <code>http://localhost:8056/</code></p>
<p>You should see the following.</p>
<p><img src="webshots/accounts.png" alt="accounts list" /></p>
<p>This lists all the accounts.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quickview"><a class="header" href="#quickview">Quickview</a></h1>
<p>The main page can be configured to show only a
selected subset of all accounts by specifying a <em>quickview</em> configuration file.</p>
<p>Take the following example.</p>
<pre><code class="language-sh">[[account]]
name = &quot;Assets:Bank:Checking&quot;
short_name = &quot;Checking&quot;

[[account]]
name = &quot;Assets:Cash:Wallet&quot;
short_name = &quot;Wallet&quot;

[[account]]
name = &quot;Liabilities:MasterCard&quot;
short_name = &quot;Card&quot;
</code></pre>
<p>Run it with <code>ledger -f ledger -q quickview.toml web</code></p>
<p>The new, more compact start screen should look like the following.</p>
<p><img src="webshots/quickview.png" alt="quickview list" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="general-ledger"><a class="header" href="#general-ledger">General Ledger</a></h1>
<p>The general ledger page shows all transactions in a table format.</p>
<p><img src="webshots/general-ledger.png" alt="general ledger" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="account-page"><a class="header" href="#account-page">Account page</a></h1>
<p>Click the link to an account shows the register of postings related to that
account.</p>
<p><img src="webshots/account.png" alt="account page" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reports"><a class="header" href="#reports">Reports</a></h1>
<p>The web service included in <code>ledger</code> allows for the configuration of many types
of different reports, charts, and calculations.</p>
<p>Lets try an example configuration.</p>
<pre><code class="language-sh">[[report]]
name = &quot;PQ Expenses&quot;
chart = &quot;pie&quot;
date_range = &quot;Previous Quarter&quot;
accounts = [ &quot;Expenses:*&quot; ]

[[report]]
name = &quot;PY Expenses&quot;
chart = &quot;pie&quot;
date_range = &quot;Previous Year&quot;
accounts = [ &quot;Expenses:*&quot; ]

[[report]]
name = &quot;YTD Expenses&quot;
chart = &quot;pie&quot;
date_range = &quot;YTD&quot;
accounts = [ &quot;Expenses:*&quot; ]

[[report]]
name = &quot;YTD My Monthly Savings&quot;
chart = &quot;bar&quot;
date_range = &quot;YTD&quot;
date_freq = &quot;Monthly&quot;
accounts = [ &quot;Income&quot;, &quot;Expenses&quot; ]

    [[report.calculated_account]]
    name = &quot;Savings&quot;

        [[report.calculated_account.account_operation]]
        name = &quot;Income&quot;
        operation = &quot;+&quot;
        
        [[report.calculated_account.account_operation]]
        name = &quot;Expenses&quot;
        operation = &quot;-&quot;

[[report]]
name = &quot;AT Net Worth&quot;
chart = &quot;line&quot;
date_range = &quot;All Time&quot;
date_freq = &quot;Quarterly&quot;
accounts = [ &quot;Assets&quot;, &quot;Liabilities&quot; ]

[[report]]
name = &quot;AT Yearly Income&quot;
chart = &quot;bar&quot;
date_range = &quot;All Time&quot;
date_freq = &quot;Yearly&quot;
accounts = [ &quot;Income&quot; ]

</code></pre>
<h2 id="expenses"><a class="header" href="#expenses">Expenses</a></h2>
<p>This is a pie chart showing the spending per Expense account.</p>
<p><img src="webshots/report-expenses.png" alt="expenses pie chart" /></p>
<h2 id="savings"><a class="header" href="#savings">Savings</a></h2>
<p>This report calculates a pseudo account &quot;Savings&quot; based on <em>Income - Expenses</em>
over time and shows how much money has been saved per month.</p>
<p><img src="webshots/report-savings.png" alt="savings bar chart" /></p>
<h2 id="net-worth-1"><a class="header" href="#net-worth-1">Net Worth</a></h2>
<p>Graph Assets against Liabilities.</p>
<p><img src="webshots/report-networth.png" alt="net worth line chart" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="portfolio"><a class="header" href="#portfolio">Portfolio</a></h1>
<p>The web service included in <code>ledger</code> allows tracking a porfolio of various
holdings. Currently stocks, mutual funds, and crypto currencies are supported.</p>
<p>Basically, you just create a portfolio configuration file where you match your
accounts to comodities and the shares of the commodity the account represents.</p>
<p>The example configuration shows what crypto currency holding may look like.</p>
<pre><code class="language-sh">[[portfolio]]
name = &quot;Crypto Holdings&quot;

    [[portfolio.stock]]
    name = &quot;Bitcoin&quot;
    security_type = &quot;Crypto&quot;
    section = &quot;Crypto&quot;
    ticker = &quot;BTC-USD&quot;
    account = &quot;Assets:Crypto:BTC&quot;
    shares = 0.009

    [[portfolio.stock]]
    name = &quot;Etherium&quot;
    security_type = &quot;Crypto&quot;
    section = &quot;Crypto&quot;
    ticker = &quot;ETH-USD&quot;
    account = &quot;Assets:Crypto:ETH&quot;
    shares = 0.1

</code></pre>
<h2 id="crypto-holdings"><a class="header" href="#crypto-holdings">Crypto Holdings</a></h2>
<p>Portfolio view of holdings.</p>
<p><img src="webshots/portfolio-crypto.png" alt="crypto holdings portfolio" /></p>
<h2 id="stocks-and-mutual-funds"><a class="header" href="#stocks-and-mutual-funds">Stocks and Mutual Funds</a></h2>
<p>Stock or Mutual Fund Quotes require API keys to services.</p>
<pre><code class="language-sh"># Used for &quot;Stock&quot; security_type -- see https://iexcloud.io/docs/api/
iex_token = &quot;pk_tokenstring&quot;

# Used for &quot;Fund&quot; security_type -- see https://www.alphavantage.co/documentation
av_token = &quot;apikey&quot;

[[portfolio]]
name = &quot;Stock Holdings&quot;
show_dividends = true

    [[portfolio.stock]]
    name = &quot;S&amp;P 500&quot;
    security_type = &quot;Stock&quot;
    section = &quot;Holdings&quot;
    ticker = &quot;SPY&quot;
    account = &quot;Assets:Holdings:SPY&quot;
    shares = 200.0

    [[portfolio.stock]]
    name = &quot;Vanguard Growth&quot;
    security_type = &quot;Fund&quot;
    section = &quot;Holdings&quot;
    ticker = &quot;VASGX&quot;
    account = &quot;Assets:Holdings:VASGX&quot;
    shares = 23.5

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="example-file"><a class="header" href="#example-file">Example File</a></h1>
<p>To make following along and running the commands easier, you can use the
transactions below as your <em>ledger.dat</em> file.</p>
<pre><code class="language-sh">2021-12-01 Checking balance
    Assets:Bank:Checking                   1000.00
    Equity:Opening Balances

2021-12-25 Buy some Crypto
    Assets:Bank:Checking
	Assets:Crypto:BTC             300
	Assets:Crypto:ETH             200

2021-12-05 Withdrawl
    Assets:Bank:Checking                   -100.00
    Assets:Cash:Wallet

2021-12-31 Employer
    Assets:Bank:Checking                   2000
    Income:Salary

2022-01-15 Employer
    Assets:Bank:Checking                   2000
    Income:Salary

2022-01-02 Dominoes Pizza   HOUSTON TX
	Liabilities:MasterCard
	Expenses:Food:TakeOut                23.58

2021-12-22 Grocery Store
	Assets:Bank:Checking
	Expenses:Food:Groceries               222.0

2022-01-11 Panda Express
	Liabilities:MasterCard
	Expenses:Food:TakeOut                17.34

2022-01-09 Grocery Store
	Assets:Bank:Checking
	Expenses:Food:Groceries                120.0

2022-01-02 Grocery Store
	Assets:Bank:Checking
	Expenses:Food:Groceries                145.0

2022-01-02 Grocery Store
	Assets:Bank:Checking
	Expenses:Food:Groceries                180.0

2022-01-08 Half Price Books    HOUSTON TX
	Liabilities:MasterCard
	Expenses:Books                         20.0
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="editing-in-vim"><a class="header" href="#editing-in-vim">Editing in Vim</a></h1>
<p>A vim plugin is provided to apply syntax highlighting and account
autocomplete when editing. Install the <strong>vim-ledger</strong> plugin.</p>
<p>Below is the result of <code>:set filetype=ledger</code> in vim.</p>
<p><img src="consoleshots/vimsyn.png" alt="vim syntax screenshot" /></p>
<p>The plugin can also do folding, try <code>:set foldmethod=syntax</code></p>
<p><img src="consoleshots/vimfold.png" alt="vim folding screenshot" /></p>
<div style="break-before: page; page-break-before: always;"></div><p><strong>License</strong></p>
<p>© 2022 Chris Howey</p>
<p>This work is licensed under Creative Commons BY-NC-SA 4.0.</p>
<p>To view a copy of this license, visit https://creativecommons.org/licenses/by-nc-sa/4.0.</p>
<p><strong>Your rights under this license</strong></p>
<p>You are free to:</p>
<ul>
<li>Share — copy and redistribute the material in any medium or format</li>
<li>Adapt — remix, transform, and build upon the material</li>
</ul>
<p>The licensor cannot revoke these freedoms as long as you follow the license terms.</p>
<p>Under the following terms:</p>
<ul>
<li>Attribution — You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.</li>
<li>NonCommercial — You may not use the material for commercial purposes.</li>
<li>ShareAlike — If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.</li>
</ul>
<p>No additional restrictions — You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.</p>
<p><strong>Notices</strong></p>
<p>You do not have to comply with the license for elements of the material in the public domain or where your use is permitted by an applicable exception or limitation.</p>
<p>No warranties are given. The license may not give you all of the permissions necessary for your intended use. For example, other rights such as publicity, privacy, or moral rights may limit how you use the material.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
